## 抛硬币连续N次正面后再次正面的概率是多少呢？

抛硬币连续N次正面后下一次还是正面的概率是多少呢？

这是一个答案似乎很肯定但心里又不踏实的问题。学过一点儿概率知识的小伙伴儿都知道老师讲过这个答案，但无论学过的还是没学过的，心里总是有一丝疑虑：真的是这样吗？如果连续很多次正面了，下一次还是正面也太巧了吧？

根据经典概率学，如果每次扔硬币是独立的事件且正反概率相等的话，毫无疑问，无论已经连续多少次正面，下一次正面的概率仍然是50%。

心里还有疑虑的话，最好的办法就是做实验来验证咯。可惜概率统计实验验证的最基本要求就是实验次数要够多，扔几千上万次硬币，也太累了吧。

但我们有Python啊，简单编个程序就可以验证呀。正好Python里的随机数发生器特别好用，所以编出来的程序也很简单：
```
import random

EXP_NUM = 100000    # 总的实验次数
N = 3               # 我们将观察连续出现N次正面后会发生什么
counter1 = 0        # 统计共多少次出现连续正面
counter2 = 0        # 统计出现连续正面后，再一次出现正面的次数

for i in range(EXP_NUM):
    counter3 = 0                        # 用来统计是否连续正面
    for j in range(N):
        coin = random.randint(0,1)
        counter3 = counter3 + coin      # 累计出现正面的次数
    if counter3 == N:                   # 表明连续出现了N次正面
        counter1 = counter1 + 1
        counter2 = counter2 + random.randint(0,1)  # 再扔一次

print("连续出现N次正面的总次数", counter1)
print("连续出现N次正面后，再次出现正面的次数", counter2)
print("连续出现N次正面后，再次出现正面的比例", counter2/counter1)
```
我们做10万次实验，看看运行结果：
```
连续出现N次正面的总次数 12510
连续出现N次正面后，再次出现正面的次数 6261
连续出现N次正面后，再次出现正面的比例 0.5004796163069545
```
看来确实还是50%的概率。如果N=5, N=10，甚至N=100，无论N等于多少，结果都仍然是0.5，只是为了保证结果的精确度，实验次数也要大大增加。比如N=5时，实验次数最好大于40万次。

本文对应的代码文件为：[002_抛硬币连续正面再正面的概率.py](../代码文件/002_抛硬币连续正面再正面的概率.py)

这里是《简单又有趣的Python》栏目，我们的口号是“Python不用学，用用你就会”。欢迎关注！

